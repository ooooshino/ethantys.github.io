<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="OOOOSHINO,tangyusen9@gmail.com"><title> · ooooshino的🛖</title><meta name="description" content="ES6学习总结该学习笔记参考阮一峰的ES6教程 点击我查看
let和constlet和var一样，用来声明变量，ES6比以往全局作用域和函数作用域，多出来一个块级作用域，一个{}即为一个块级作用域，这是为了避免函数内的变量提升从而覆盖函数顶层所声明的值
12345678910111213141516"><meta name="keywords" content="oshino,两仪猿,ooooshino,EthanTYS"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.svg" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/icons/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@100;300;400;500;700&amp;display=swap"><meta name="generator" content="Hexo 5.4.0"></head><body><div class="sidebar"><div class="logo-title"><div class="title"><img src="/images/oshino.svg" style="width:267px;"><h3 title="">我们在以自己的方式努力着去成为自己想成为的人，这段时间，我们一直在成长，大脑不能记下每时每刻，但这里可以</h3><p class="description">🔗 近期目标：<span>备考CET-6</span></p></div><ul class="social-links">🔗 社交链接：<li><a target="_blank" rel="noopener" href="https://twitter.com/tangyuse"><i class="fa fa-twitter"></i></a></li><li><a target="_blank" rel="noopener" href="http://instagram.com/tangsenyu0915"><i class="fa fa-instagram"></i></a></li><li><a href="/atom.xml"><i class="fa fa-rss"></i></a></li><li><a target="_blank" rel="noopener" href="http://weibo.com/ooooshino"><i class="fa fa-weibo"></i></a></li><li><a target="_blank" rel="noopener" href="http://github.com/ooooshino"><i class="fa fa-github"></i></a></li></ul></div><div class="banner"> <img src="/images/banner.jpg" style="width:300px;"></div><div class="footer"><a target="_blank" href="/"><span>Theme by </span></a><a target="_blank" rel="noopener" href="https://github.com/EthanTYS/ethantys.github.io">ooooshino</a><div class="run"><span>It's been running for 20 days</span></div><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top"><div class="nav"><li><a href="/">Home</a></li><li><a target="_blank" rel="noopener" href="https://cnotion.notion.site/OOOOSHINO-772d5e9b160b48d69ffbd5e40f70b11f">About</a></li><li><a href="/archives">Archive</a></li><li><a href="/atom.xml">RSS</a></li></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post"><div class="post-title"><h3><a></a></h3></div><div class="post-content"><h1 id="ES6学习总结"><a href="#ES6学习总结" class="headerlink" title="ES6学习总结"></a>ES6学习总结</h1><p>该学习笔记参考阮一峰的ES6教程 <a href="%22http://es6.ruanyifeng.com/#docs/destructuring%22">点击我查看</a></p>
<h2 id="let和const"><a href="#let和const" class="headerlink" title="let和const"></a>let和const</h2><p>let和var一样，用来声明变量，ES6比以往全局作用域和函数作用域，多出来一个块级作用域，一个{}即为一个块级作用域，这是为了避免函数内的变量提升从而覆盖函数顶层所声明的值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">*****************<span class="number">1.</span> 用<span class="keyword">let</span>声明的变量只适用于该作用域*********************</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> variable1 = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">let</span> variable2 = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(variable1)  <span class="comment">//打印出1</span></span><br><span class="line"><span class="built_in">console</span>.log(variable2)  <span class="comment">//报错，variable2 is not defined</span></span><br><span class="line">*****************<span class="number">2.</span> 用<span class="keyword">let</span>声明的变量不存在变量提升**********************</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">s</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">    <span class="keyword">var</span> a;</span><br><span class="line">    <span class="keyword">let</span> b;</span><br><span class="line">&#125;</span><br><span class="line">*****************<span class="number">3.</span> 用<span class="keyword">let</span>声明的变量暂时性死区**************************</span><br><span class="line"></span><br><span class="line">*****************<span class="number">4.</span> 用<span class="keyword">let</span>声明的变量不允许重复声明**********************</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>const同样也是声明，不过const声明的是常量，且一旦声明，后面就不能改了，这也意味着用const在声明常量的时候，必须初始化初值，作用域和let一样，不存在提升，同样也拥有TDZ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. 没有初值</span></span><br><span class="line"><span class="keyword">const</span> constant;  <span class="comment">//报错 Missing initializer in const declaration</span></span><br><span class="line"><span class="comment">//2. 不能修改</span></span><br><span class="line"><span class="keyword">const</span> constant = <span class="number">2</span>;</span><br><span class="line">constant = <span class="number">4</span>;    <span class="comment">//报错TypeError: Assignment to constant variable</span></span><br><span class="line"><span class="comment">//3. 存在TDZ</span></span><br><span class="line"><span class="built_in">console</span>.log(constant); <span class="comment">//Cannot access &#x27;constant&#x27; before initialization</span></span><br><span class="line"><span class="keyword">const</span> constant = <span class="number">123</span>;</span><br><span class="line"><span class="comment">//4.只适用于当前的作用域</span></span><br><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> constant = <span class="number">123</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(constant)    <span class="comment">//123</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(constant)    <span class="comment">//Uncaught ReferenceError: MAX is not defined</span></span><br><span class="line"><span class="comment">//5. 不可重复</span></span><br><span class="line"><span class="keyword">const</span> constant = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">const</span> constant = <span class="number">321</span>;   <span class="comment">//报错Identifier &#x27;sss&#x27; has already been declared</span></span><br></pre></td></tr></table></figure>

<p>const声明的本质，是将所声明的名称指向常量的内存地址，这意味着在所指向 内存地址不改变的情况下，是可以改变的，下面给出例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义</span></span><br><span class="line"><span class="keyword">const</span> constantList = [];</span><br><span class="line"><span class="comment">// 添加内容成功</span></span><br><span class="line">constantList.push(<span class="string">`123`</span>)    <span class="comment">//success</span></span><br><span class="line"><span class="comment">// 打印constantList长度</span></span><br><span class="line"><span class="built_in">console</span>.log(constantList.length)  <span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 让constantList长度为0,即清空constantList</span></span><br><span class="line">constantList.length = <span class="number">0</span>;  <span class="comment">//success</span></span><br><span class="line"><span class="comment">// 打印constantList</span></span><br><span class="line"><span class="built_in">console</span>.log(constantList)   <span class="comment">// []</span></span><br><span class="line"><span class="comment">// 改变指向的内存地址</span></span><br><span class="line">constantList = [<span class="string">`123`</span>]   <span class="comment">//报错Assignment to constant variable.</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h2><p>语法糖：</p>
<ol>
<li>如果只有一个参数，（）可以省</li>
<li>如果只有一个return,{}可以省</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5或者更老版本</span></span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">123</span>)     <span class="comment">//   打印 123</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//----------------------------------------------------------</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">124</span>,<span class="number">5151</span>,<span class="number">32</span>,<span class="number">513</span>,<span class="number">5</span>,<span class="number">54</span>,<span class="number">32</span>,<span class="number">1</span>,<span class="number">51</span>,<span class="number">32</span>];</span><br><span class="line">arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">n,m</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n-m;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(arr);     <span class="comment">// [1, 5, 32, 32, 32, 51, 54, 124, 513, 5151]</span></span><br><span class="line"><span class="comment">//----------------------------------------------------------</span></span><br><span class="line"><span class="keyword">var</span> testFunction = <span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(testFunction(<span class="number">123</span>));    <span class="comment">//打印123</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6, 对应输出和上面一样</span></span><br><span class="line"><span class="comment">//去掉 function</span></span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">123</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//----------------------------------------------------------</span></span><br><span class="line"><span class="comment">//单独一个return, 去掉 function 和 &#123;&#125;</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">124</span>,<span class="number">5151</span>,<span class="number">32</span>,<span class="number">513</span>,<span class="number">5</span>,<span class="number">54</span>,<span class="number">32</span>,<span class="number">1</span>,<span class="number">51</span>,<span class="number">32</span>];</span><br><span class="line">arr.sort(<span class="function">(<span class="params">n,m</span>) =&gt;</span> n-m);</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br><span class="line"><span class="comment">//----------------------------------------------------------</span></span><br><span class="line"><span class="comment">//单独一个return 和只有一个参数，function() 和 &#123;&#125; 都去掉</span></span><br><span class="line"><span class="keyword">let</span> testFunctino = <span class="function">() =&gt;</span> a</span><br><span class="line"><span class="built_in">console</span>.log(testFunction(<span class="number">123</span>));</span><br></pre></td></tr></table></figure>

<h2 id="参数扩展"><a href="#参数扩展" class="headerlink" title="参数扩展"></a><strong>参数扩展</strong></h2><p>…args</p>
<ol>
<li><p>收集剩余参数</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> test = <span class="function">(<span class="params">a,b,...args</span>) =&gt;</span> args;</span><br><span class="line"><span class="built_in">console</span>.log(test(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>));     <span class="comment">//  3,4,5,6,7,8,9</span></span><br></pre></td></tr></table></figure></li>
<li><p>展开数组</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">45</span>,<span class="number">6</span>];</span><br><span class="line"><span class="built_in">console</span>.log(...arr);</span><br><span class="line"><span class="keyword">let</span> expandArr = <span class="function">(<span class="params">a,b,c,d,e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">    <span class="built_in">console</span>.log(c);</span><br><span class="line">    <span class="built_in">console</span>.log(d);</span><br><span class="line">    <span class="built_in">console</span>.log(e);</span><br><span class="line">&#125;</span><br><span class="line">expandArr(...arr);<span class="comment">//  换行打印出  1  2  3  45  6</span></span><br></pre></td></tr></table></figure>

<p> 展开是特别好用的，任何能用到的…都可以拿出来用</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>];</span><br><span class="line">ler arr = [...arr1,...arr2];</span><br><span class="line"><span class="built_in">console</span>.log(arr);           <span class="comment">//  1,2,3,4,5,6,7,8</span></span><br></pre></td></tr></table></figure></li>
<li><p>默认参数</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> test = <span class="function">(<span class="params">a=<span class="number">2</span></span>) =&gt;</span> a;</span><br><span class="line">test();     <span class="comment">// 打印 2</span></span><br></pre></td></tr></table></figure>

<p> 注意： 一个参数且有默认值的情况下，不能省略掉()</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> test = a=<span class="number">2</span> =&gt; a;     <span class="comment">//报错 Malformed arrow function parameter list</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h2><p>左右两边一一对应，解构赋值需要注意的有：</p>
<ol>
<li><p>左右两边结构一样</p>
</li>
<li><p>赋值和声明在一起进行</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [a,b,c,d,e] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="string">`a`</span>];</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;a&#125;</span><span class="subst">$&#123;b&#125;</span><span class="subst">$&#123;c&#125;</span><span class="subst">$&#123;d&#125;</span><span class="subst">$&#123;e&#125;</span>`</span>);     <span class="comment">// 1234e</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [&#123;a,b,c&#125;,[d,e,f],num,str] = [&#123;<span class="attr">a</span>:<span class="number">1</span>,<span class="attr">b</span>:<span class="number">2</span>,<span class="attr">c</span>:<span class="number">3</span>&#125;,[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],<span class="number">789</span>,<span class="string">&#x27;10&#x27;</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a,b,c,d,e,f,num,str);        <span class="comment">// 1 2 3 4 5 6 789 &quot;10&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="数组方法"><a href="#数组方法" class="headerlink" title="数组方法"></a>数组方法</h2><ol>
<li>map        映射</li>
<li>reduce     汇总</li>
<li>filter     过滤器</li>
<li>forEach    循环</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ------------------------------------------.map----------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> scoreList = [<span class="number">12</span>,<span class="number">58</span>,<span class="number">89</span>,<span class="number">93</span>,<span class="number">70</span>];</span><br><span class="line"><span class="keyword">let</span> scoreRes = scoreList.map(<span class="function"><span class="params">score</span> =&gt;</span> score&gt;<span class="number">85</span>?<span class="string">&#x27;优秀&#x27;</span>:(score&gt;<span class="number">69</span>?<span class="string">&#x27;良好&#x27;</span>:<span class="string">&#x27;不及格&#x27;</span>))</span><br><span class="line"><span class="built_in">console</span>.log(scoreRes);     <span class="comment">// [&quot;不及格&quot;, &quot;不及格&quot;, &quot;优秀&quot;, &quot;优秀&quot;, &quot;良好&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ------------------------------------------.reduce----------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// .reduce(temp，item,index)</span></span><br><span class="line"><span class="comment">// @temp 临时中间值</span></span><br><span class="line"><span class="comment">// @item 当前的值</span></span><br><span class="line"><span class="comment">// @index 当前值的下标</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">23</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">71</span>];</span><br><span class="line"><span class="keyword">let</span> result = arr.reduce(<span class="function">(<span class="params">tmp,item,index</span>) =&gt;</span> &#123;<span class="keyword">return</span> tmp+item;&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(result);              <span class="comment">// 103</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ------------------------------------------.filter----------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 根据函数返回的Boolean值来确定是否要保留</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">12</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">72</span>,<span class="number">6</span>,<span class="number">72</span>];</span><br><span class="line"><span class="keyword">let</span> result = arr.filter(<span class="function"><span class="params">item</span>=&gt;</span> item%<span class="number">3</span>==<span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result)    <span class="comment">// [12, 3, 6, 72, 6, 72]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ------------------------------------------.forEach----------------------------------</span></span><br><span class="line"><span class="comment">// 迭代每一个元素</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>];</span><br><span class="line">arr.forEach(<span class="function"><span class="params">item</span>=&gt;</span>&#123;<span class="built_in">console</span>.log(item);&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//除了item,还有index</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>];</span><br><span class="line">arr.forEach(<span class="function">(<span class="params">item,index</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//换行打印 下标为0的值为：1 下标为1的值为：2  下标....</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`下标为<span class="subst">$&#123;index&#125;</span>的值为：<span class="subst">$&#123;item&#125;</span>`</span>);</span><br><span class="line">&#125;);  </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="字符串模板"><a href="#字符串模板" class="headerlink" title="字符串模板"></a><strong>字符串模板</strong></h2><p>ES6新增两个方法,一个特性</p>
<ol>
<li>startsWith(String) endsWith(String)返回结果是个Boolean类型</li>
<li>超级方便的字符串模板</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// startsWith  endsWith</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">`ascdfd`</span>;</span><br><span class="line">str.startsWith(<span class="string">`a`</span>);     <span class="comment">//    true</span></span><br><span class="line">str.startsWith(<span class="string">`2`</span>);     <span class="comment">//    false</span></span><br><span class="line">str.endsWith(<span class="string">`d`</span>);       <span class="comment">//    true</span></span><br><span class="line">str.endsWith(<span class="string">`1`</span>);       <span class="comment">//    false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//字符串模板</span></span><br><span class="line"><span class="keyword">let</span> url = <span class="string">`http://liangyiyuan.fun/`</span></span><br><span class="line"><span class="keyword">let</span> uri = <span class="string">`<span class="subst">$&#123;url&#125;</span>getUserInfo`</span></span><br><span class="line"><span class="built_in">console</span>.log(uri);     <span class="comment">//    http://liangyiyuan.fun/getUserInfo</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h2><p>ES6终于对面向对象进行了优化,(之前的写法是真的恶心=-=),有两个变化</p>
<ol>
<li><p>构造函数和类分开了,多了class关键字</p>
</li>
<li><p>class里面直接加方法</p>
</li>
<li><p>继承语法</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ----------------------------老版面向对象</span></span><br><span class="line"><span class="comment">// 1.创建类</span></span><br><span class="line">functino <span class="function"><span class="title">User</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 2.方法</span></span><br><span class="line">User.prototype.showName=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 创建对象</span></span><br><span class="line"><span class="keyword">var</span> user = <span class="keyword">new</span> User(<span class="string">`Ethan`</span>);</span><br><span class="line">user.showName();      <span class="comment">//    Ethan</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ----------------------------ES6面向对象</span></span><br><span class="line"><span class="comment">// 创建类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span></span>&#123;</span><br><span class="line">    <span class="comment">// 构造函数</span></span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 方法</span></span><br><span class="line">    <span class="function"><span class="title">showName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 创建对象</span></span><br><span class="line"><span class="keyword">var</span> user = <span class="keyword">new</span> User(<span class="string">&#x27;Ethan&#x27;</span>);</span><br><span class="line">user.showName();</span><br></pre></td></tr></table></figure>

<p>老版的继承也是写的很是让人无语</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//------------------------老版继承,这里User已经创建</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">vipUser</span>(<span class="params">name,level</span>)</span>&#123;</span><br><span class="line">    User.call(<span class="built_in">this</span>,name);</span><br><span class="line">    <span class="built_in">this</span>.level = level;</span><br><span class="line">&#125;</span><br><span class="line">vipUser.prototype = <span class="keyword">new</span> User();</span><br><span class="line">vipUser.prototype.constuctor = vipUser;</span><br><span class="line">vipUser.prototype.showLevel = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.level);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> user = <span class="keyword">new</span> User(<span class="string">`Ethan`</span>,<span class="number">10</span>);</span><br><span class="line">user.showLevel();</span><br><span class="line"></span><br><span class="line"><span class="comment">//我枯了.....让我们来看看新版的继承</span></span><br><span class="line"><span class="comment">//-----------------------新版继承</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">vipUser</span> <span class="keyword">extends</span> <span class="title">User</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name,level</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">        <span class="built_in">this</span>.level = level;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">showLevel</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.level);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> user = <span class="keyword">new</span> User(<span class="string">`Ethan`</span>,<span class="number">10</span>);</span><br><span class="line">user.showLevel();</span><br></pre></td></tr></table></figure>

<p>这….这TM才是面向对像! 这TM才是继承阿! 学过java的感觉见到了熟人, 之前的都是些什么鬼, 我爱ES6!!!</p>
<p>这里不得提一下java不愧是世界上最热门的语言,ES6的面向对象语法也在向他靠</p>
<h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h2><ol>
<li><p>json对象</p>
<p> 由于这不是ES6才有的, 所以就不举例子了, json对象有两个方法:</p>
<p> JSON.stringify   ==&gt; json 转 str</p>
<p> JSON.parse   ==&gt; str 转 json</p>
</li>
<li><p>ES6增加了json的简写</p>
<p> (1) 当key 和value一样的时候,可以只写一个;</p>
<p> (2) 当value为function时,function()这个关键字可去掉</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// key和value都是一样的</span></span><br><span class="line"><span class="keyword">let</span> [a,b] = [<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> json = &#123;a,b,<span class="attr">c</span>:<span class="number">33</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(json);   <span class="comment">//     &#123;a:2,b:3,c:33&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// value为function时,可以去掉 :function</span></span><br><span class="line"><span class="keyword">let</span> json = &#123;</span><br><span class="line">    a,b,<span class="attr">c</span>:<span class="function"><span class="title">functino</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">`<span class="subst">$&#123;a&#125;</span><span class="subst">$&#123;b&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 可以简写为</span></span><br><span class="line"><span class="keyword">let</span> json = &#123;</span><br><span class="line">    a,b,<span class="function"><span class="title">c</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">`<span class="subst">$&#123;a&#125;</span><span class="subst">$&#123;b&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 调用</span></span><br><span class="line">json.c();      <span class="comment">//  打印23</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Promise对象"><a href="#Promise对象" class="headerlink" title="Promise对象"></a><strong>Promise对象</strong></h2><p>promise是一种<strong>用同步的方式写异步</strong>的规范</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//   创建一个promise对象</span></span><br><span class="line"><span class="keyword">let</span> promiseOne = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="title">functio</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//异步代码  比如在这发请求</span></span><br><span class="line">    wx.request(&#123;</span><br><span class="line">        url,</span><br><span class="line">        data,</span><br><span class="line">        header,</span><br><span class="line">        <span class="attr">success</span>:<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">            resolve(res);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">fail</span>:<span class="function"><span class="params">error</span>=&gt;</span>&#123;</span><br><span class="line">            reject(error);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">promiseOne.then(</span><br><span class="line">    <span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>假如在这还有一个promise对象, 还要继续用 promiseTwo.then(){} 就显得有点鸡肋</p>
<p>promise提供了Promise.all(promise对象数组,then(){}) ,比如这样</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> promiseTwo = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="title">functio</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//请求</span></span><br><span class="line">    wx.request(&#123;</span><br><span class="line">        url,</span><br><span class="line">        data,</span><br><span class="line">        header,</span><br><span class="line">        <span class="attr">success</span>:<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">            resolve(res);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">fail</span>:<span class="function"><span class="params">error</span>=&gt;</span>&#123;</span><br><span class="line">            reject();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">Promise</span>.all([promiseOne,promiseTwo]).then(</span><br><span class="line">    <span class="comment">//   resolve调用的前提是promiseOne和promiseTwo都调用成功了,只要一个失败,都会调用reject</span></span><br><span class="line">    <span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`至少有一个失败了`</span>);</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

<p>在这里打印出res,会发现有两个请求的结果,所以我们可以这样</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.all([promiseOne,promiseTwo]).then(</span><br><span class="line">      <span class="comment">//   resolve调用的前提是promiseOne和promiseTwo都调用成功了,只要一个失败,都会调用reject</span></span><br><span class="line">      <span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">          <span class="keyword">let</span> [res1,res2] = res;</span><br><span class="line">          <span class="built_in">console</span>.log(res1);    <span class="comment">//第一个请求的结果</span></span><br><span class="line">          <span class="built_in">console</span>.log(res2);    <span class="comment">//第二个请求的结果</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">           <span class="built_in">console</span>.log(<span class="string">`至少有一个失败了`</span>);</span><br><span class="line">      &#125;)</span><br></pre></td></tr></table></figure>

<p>每次都要let promiseObject = new Promise(){} 会使得代码量冗余,我们可以搞一个封装 !</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对请求进行封装,添加data,header等参数就不举例了</span></span><br><span class="line">functino createPromise(method,url))&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">        wx.request(&#123;</span><br><span class="line">            method,  <span class="comment">//默认`GET`</span></span><br><span class="line">            url,</span><br><span class="line">            <span class="attr">success</span>:<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">                resolve(res);</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">fail</span>:<span class="function"><span class="params">error</span>=&gt;</span>&#123;</span><br><span class="line">                reject(error);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 调用</span></span><br><span class="line"><span class="built_in">Promise</span>.all([</span><br><span class="line">    createPromise(url1),</span><br><span class="line">    createPromise(url2)</span><br><span class="line">]).then(</span><br><span class="line">    <span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> [res1,res2] = res;</span><br><span class="line">        <span class="built_in">console</span>.log(res1);    <span class="comment">//第一个请求的结果</span></span><br><span class="line">        <span class="built_in">console</span>.log(res2);    <span class="comment">//第二个请求的结果</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`至少有一个失败了`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<hr>
<p>小科普: <strong>Jquery的ajax返回的就是个promise对象</strong>, 请看下面小例子 :</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.all([</span><br><span class="line">    $.ajax(&#123;url1,data-type;<span class="string">`json`</span>&#125;),</span><br><span class="line">    $.ajax(&#123;url2,data-type;<span class="string">`json`</span>&#125;)</span><br><span class="line">]).then(</span><br><span class="line">    <span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`两个请求都成功了`</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`至少一个失败了`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>对,就是这么简洁….</p>
<hr>
<p>Promise除了Promise.all()之外,还有Promise.race()</p>
<p>简单来讲all需要数组下的请求都成功才会调用resolve,否则调用reject, 而race只要有一个先成功的,就会调用resolve, 且只调用最快的那个, 用得很少,经常用来保障大型业务正常运行,比如:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.race([</span><br><span class="line">    <span class="comment">//这三个地址返回的资源都是一样的,像淘宝这种有多个服务器</span></span><br><span class="line">    <span class="comment">//一个服务器炸了,其他服务器就派上用场了,用户还是能正常拿到数据</span></span><br><span class="line">    $.ajax(&#123;url1,data-type:<span class="string">`json`</span>&#125;),</span><br><span class="line">    $.ajax(&#123;url2,data-type:<span class="string">`json`</span>&#125;),</span><br><span class="line">    $.ajax(&#123;url3,data-type:<span class="string">`json`</span>&#125;),</span><br><span class="line">    $.ajax(&#123;url4,data-type:<span class="string">`json`</span>&#125;)</span><br><span class="line">]).then(</span><br><span class="line">    <span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`拿到数据啦:<span class="subst">$&#123;res&#125;</span>`</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`都GG啦`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h2 id="Set对象"><a href="#Set对象" class="headerlink" title="Set对象"></a>Set对象</h2><p>这是ES6新增的数据结构，类似于数组，但于数组不同的是，Set对象的值不能有重复</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建set对象   迭代添加   输出</span></span><br><span class="line"><span class="keyword">const</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">[<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">5</span>].forEach(<span class="function"><span class="params">item</span> =&gt;</span> set.add(item));</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> num <span class="keyword">of</span> set)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(num)      <span class="comment">// 换行打印 1  2  3  4  5</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 也可以在set对象创建的时候初始化值</span></span><br><span class="line"><span class="keyword">const</span> setTwo = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(setTwo.size);        <span class="comment">// 打印 5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> setThree = <span class="keyword">new</span> <span class="built_in">Set</span>([...arr]);</span><br><span class="line"><span class="built_in">console</span>.log(setThree.size);     <span class="comment">// 打印 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意，set在添加值的时候，数据类型不会发生转换</span></span><br></pre></td></tr></table></figure>

<p>set对象有以下属性和方法 ：</p>
<p>属性：</p>
<ol>
<li>constructor　　　　　 　　　—构造函数，默认就是set函数</li>
<li>size　　　　　 　　　　　　—返回set实例的成员总数</li>
</ol>
<p>方法：</p>
<ol>
<li>.add(value)　　　　　 　　—添加某个值，返回set结构本身</li>
<li>.delete(value)　　　　　　— 删除某个值，返回一个布尔值</li>
<li>.has(value)　　　　　　 　— 返回一个Boolean,表示该值是否为set成员</li>
<li>.clear()　　　　　　　　　—清楚所有的成员，没有返回值</li>
</ol>
<h2 id="generator"><a href="#generator" class="headerlink" title="generator"></a><strong>generator</strong></h2><p>generator,生成器,生成一个函数,于不普通函数一路到底不同的是,generator函数中间可以暂停,下次执行的时候,从暂停的地方开始执行,需要和yield配对使用,且不能像函数那样 函数名()调用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//用`*`代表这是一个generator,放置的位置有三种</span></span><br><span class="line"><span class="comment">//1.function* generator()&#123;&#125;</span></span><br><span class="line"><span class="comment">//2.function * generator()&#123;&#125;</span></span><br><span class="line"><span class="comment">//3.function *generator()&#123;&#125;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">generatorTest</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`a`</span>);</span><br><span class="line">    <span class="keyword">yield</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`b`</span>);</span><br><span class="line">&#125;</span><br><span class="line">generatorTest(); <span class="comment">//直接调用generator无效</span></span><br><span class="line">generatorTest.next();  <span class="comment">// 打印 a ,在yield这里停住</span></span><br></pre></td></tr></table></figure>

<ol>
<li><p>yield的使用</p>
<p> yield可以传参,具体值放在 .next(这里传参) 里</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">generatorTest</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`a`</span>);</span><br><span class="line">    <span class="keyword">let</span> a = field;</span><br><span class="line">    <span class="built_in">console</span>.log(a)</span><br><span class="line">&#125;</span><br><span class="line">generatorTest.next(<span class="number">23</span>);     <span class="comment">// 打印 a</span></span><br><span class="line">generatorTest.next(<span class="number">123</span>);    <span class="comment">// 打印 123</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//这里的23并不是被123覆盖了,而是yield传参是从第二个开始,第一个传参是没用的</span></span><br></pre></td></tr></table></figure></li>
<li><p>yield返回value值</p>
<p> 执行过上面的代码,会发现除了打印a和123,还有会两个json对象,每次next一个json对象</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//&#123;value:undefined,done:false&#125;</span></span><br><span class="line"><span class="comment">//&#123;value:undefined,done:true&#125;</span></span><br></pre></td></tr></table></figure>

<p> <strong>把值放在yield后面,每次执行完都会返回对应的值,最后一个没有yield,用return返回值</strong>, 例子 :</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">generatorTest</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">`a`</span>);</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">123</span>;</span><br><span class="line">    alert(<span class="string">`b`</span>);</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">456</span>;</span><br><span class="line">    alert(<span class="string">`c`</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">789</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> generatorTest = generatorTest();</span><br><span class="line">generatorTest.next();     <span class="comment">//  &#123;value:123,done:false&#125;</span></span><br><span class="line">generatorTest.next();     <span class="comment">//  &#123;value:456,done:false&#125;</span></span><br><span class="line">generatorTest.next();     <span class="comment">//  &#123;value:789,done:true&#125;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>generator可以解决异步操作</strong> ! ! !</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2020-08-08</span><i class="fa fa-comment-o"></i><a href="/2020/08/08/ES6%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/#comments">Comments</a><i class="fa fa-tag"></i></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=,https://oshino.cc/2020/08/08/ES6学习总结/,ooooshino的🛖,,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2021/03/18/%E8%B7%A8%E5%9F%9F/" title="跨域">Prev Post</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2020/08/08/docker/" title="">Next Post</a></li></ul></div><a id="comments"></a><div id="disqus_thread"></div><script>var disqus_shortname = 'ooooshino';
var disqus_identifier = '2020/08/08/ES6学习总结/';
var disqus_title = '';
var disqus_url = 'https://oshino.cc/2020/08/08/ES6学习总结/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//#{theme.disqus}.disqus.com/count.js" async></script></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>